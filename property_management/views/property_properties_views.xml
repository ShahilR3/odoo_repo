<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="property_management_list_view" model="ir.ui.view">
        <field name="name">property_management_list</field>
        <field name="model">property.properties</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="description" optional="hidden"/>
                <field name="owner_id"/>
                <field name="build_date"/>
                <field name="sold_option" optional="hidden"/>
                <field name="currency_id" optional="hidden"/>
                <field name="legal_amount"/>
                <field name="rent"/>
            </list>
        </field>
    </record>
    <record id="property_management_form_view" model="ir.ui.view">
        <field name="name">property_management_form</field>
        <field name="model">property.properties</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="state"
                           widget="statusbar"
                           statusbar_visible='draft,rent,leased,sold'
                           options="{'clickable':'True'}"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_get_property" type="object"
                                class="oe_stat_button fa-solid" icon="fa-file-o">
                            <field name="property_count" widget="statinfo" string="Details"/>
                        </button>
                    </div>
                    <h1>
                        <field name="name" readonly="state!='draft'"/>
                        <field name="image_property" widget='image' class="oe_avatar"/>
                    </h1>
                    <group>
                        <group>
                            <span class="o_form_label o_td_label o_address_type"
                                  name="address_name"
                                  string="Address">
                                <field name="address" readonly="True"/>
                            </span>
                            <div>
                                <div class="o_address_format" name="div_address">
                                    <field name="street" placeholder="Street..." class="o_address_street"
                                           readonly="state!='draft'"/>
                                    <field name="street2" placeholder="Street 2..." class="o_address_street"
                                           readonly="state!='draft'"/>
                                    <div>
                                        <field name="city" placeholder="City" class="o_address_city"
                                               readonly="state!='draft'"/>
                                        <field name="state_id" class="o_address_state" placeholder="State"
                                               options="{'no_open': True, 'no_quick_create': True}"
                                               context="{'country_id': country_id,
                                               'default_country_id': country_id,
                                               'zip': zip}" readonly="state!='draft'"/>
                                        <field name="zip" placeholder="ZIP" class="o_address_zip"
                                               readonly="state!='draft'"/>
                                    </div>
                                    <field name="country_id" placeholder="Country" class="o_address_country"/>
                                </div>
                            </div>
                            <field name="owner_id" readonly="state!='draft'"/>
                            <field name="facility_ids" widget="many2many_tags" options="{'color_field':'colors'}"
                                   readonly="state!='draft'"/>
                        </group>
                        <group>
                            <field name="build_date" readonly="state!='draft'"/>
                            <field name="sold_option" readonly="state!='draft'"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="legal_amount" widget="range_val" options="{'max':2000}" invisible="sold_option==False"
                                   readonly="state!='draft'"/>
                            <field name="rent" widget="monetary" readonly="state!='draft'"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Description">
                            <field name="description" readonly="state!='draft'"/>
                        </page>
                    </notebook>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>
    <record id="property_management_search_view" model="ir.ui.view">
        <field name="name">property.management.search</field>
        <field name="model">property.properties</field>
        <field name="arch" type="xml">
            <search>
                <filter name="Sold" domain="[('sold_option','=',True)]"/>
                <filter string="Archived" name="archive" domain="[('active','!=','True')]"/>
                <group>
                    <filter string="Country" name="country_id" context="{'group_by':'country_id'}"/>
                    <filter string="State" name="state_id" context="{'group_by':'state_id'}"/>
                    <filter string="City" name="city" context="{'group_by':'city'}"/>
                    <filter string="Zip" name="zip" context="{'group_by':'zip'}"/>
                </group>
            </search>
        </field>
    </record>
    <record id="action_Property_Config" model="ir.actions.act_window">
        <field name="name">Property</field>
        <field name="res_model">property.properties</field>
        <field name="view_mode">list,form,search</field>
        <field name="views" eval="[
            (ref('property_management_list_view'), 'list'),
            (ref('property_management_form_view'), 'form'),
            (ref('property_management_search_view'),'search')
        ]"/>
    </record>
</odoo>